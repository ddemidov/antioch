<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>antioch-0.0.7: Installation/Linkage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">antioch-0.0.7
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Antioch: A New Templated Implementation of Optimized Chemistry for Hydrodynamics</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Installation/Linkage </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="a00253.html" title="The parameters are reduced parameters. ">Antioch</a> uses the GNU autotools suite (autoconf, automake, and libtool) for its development build system.</p>
<p>This system is popular among the Linux development community and provides a familiar build environment for end users.</p>
<p>To build <a class="el" href="a00253.html" title="The parameters are reduced parameters. ">Antioch</a> starting from a release distribution, untar the distribution and enter the top-level directory.</p>
<div class="fragment"><pre class="fragment">
<blockquote class="doxtable">
<p>
tar xvfz antioch-0.0.7.tar.gz
cd antioch-0.0.7/</p>
<p></p>
</blockquote>

</pre></div><h2>Configuration Requirements</h2>
<p>To date, <a class="el" href="a00253.html" title="The parameters are reduced parameters. ">Antioch</a> has been successfully built and tested with the gcc 4.4, 4.5, and 4.6 compilers and the Intel 11.1 compilers.</p>
<p><b>Installation Directory</b>: Use the <code>&ndash;prefix</code> option to specify your desired top-level installation directory for <a class="el" href="a00253.html" title="The parameters are reduced parameters. ">Antioch</a>. The examples below all configure <a class="el" href="a00253.html" title="The parameters are reduced parameters. ">Antioch</a> to be installed in the user's ~/bin/antioch directory.</p>
<p><em>Configure with default login environment:</em> <br/>
</p>
<div class="fragment"><div class="line">&gt; ./configure --prefix=$HOME/bin/antioch </div>
</div><!-- fragment --><p><em>Or, configure with specific compilers:</em> <br/>
</p>
<div class="fragment"><div class="line">&gt; ./configure CXX=g++ --prefix=$HOME/bin/antioch </div>
</div><!-- fragment --><h2>Other Configuration Options </h2>
<p><a class="el" href="a00253.html" title="The parameters are reduced parameters. ">Antioch</a> can optionally be built with other libraries as well. In particular, <a class="el" href="a00253.html" title="The parameters are reduced parameters. ">Antioch</a> leverages the <a href="https://red.ices.utexas.edu/projects/software/wiki/GRVY">GRVY</a> library for some performance timing capabilities.</p>
<p><em>Configure with libGRVY and enable grvy timers :</em> <br/>
</p>
<div class="fragment"><div class="line">&gt; ./configure --with-grvy=$MY_GRVY_DIR --enable-grvy-timers </div>
</div><!-- fragment --><p>To enable verification using the method of manufactured solutions, <a class="el" href="a00253.html" title="The parameters are reduced parameters. ">Antioch</a> uses the <a href="https://red.ices.utexas.edu/projects/software/wiki/MASA">MASA</a> library. Although <a class="el" href="a00253.html" title="The parameters are reduced parameters. ">Antioch</a> can configure and build with <a href="https://red.ices.utexas.edu/projects/software/wiki/MASA">MASA</a>, it is currently not using these capabilities. This is planned for the next release.</p>
<p><em>Configure with MASA:</em> <br/>
</p>
<div class="fragment"><div class="line">&gt; ./configure --with-masa=$MY_MASA_DIR </div>
</div><!-- fragment --><p>Configure help can also be accessed at the command line:</p>
<div class="fragment"><div class="line">&gt; ./configure --help </div>
</div><!-- fragment --><h2>Library Build </h2>
<p>Once configured, issue a <code>make</code> to build the software. If successful, this will build <a class="el" href="a00253.html" title="The parameters are reduced parameters. ">Antioch</a> (static and dynamic libraries and executables).</p>
<div class="fragment"><div class="line">&gt; make </div>
</div><!-- fragment --><p>If you have multiple cores at your disposal, a parallel buid can accelerate the build time. If there are 4 cores avaiable, then the following will build using 4 threads, thereby leveraging 4 processors.</p>
<div class="fragment"><div class="line">&gt; make -j 4</div>
</div><!-- fragment --><p><b> Verifying the build:</b> To verify that the software is working properly, a test option is provided to run a short suite of functionality tests against the local build. To run, issue a <code>make check</code> to run the tests. Note that these tests may take a few minutes depending upon optimization level and architecture. If successfull, output similar to the following will be generated.</p>
<div class="fragment"><div class="line"> &gt; make check</div>
<div class="line">-------------------------------------------------------</div>
<div class="line"> Initializing Incompressible Navier-Stokes tests.</div>
<div class="line">-------------------------------------------------------</div>
<div class="line">PASS: navier_stokes_tests.sh</div>
<div class="line">PASS: test_ns_couette_flow_2d_x.sh</div>
<div class="line">PASS: test_ns_couette_flow_2d_y.sh</div>
<div class="line">PASS: test_ns_poiseuille_flow.sh</div>
<div class="line">PASS: test_axi_ns_poiseuille_flow.sh</div>
<div class="line">PASS: test_axi_ns_con_cyl_flow.sh</div>
<div class="line">-------------------------------------------------------</div>
<div class="line">      Initializing Thermally Driven Flow tests.</div>
<div class="line">-------------------------------------------------------</div>
<div class="line">PASS: thermally_driven_flow_tests.sh</div>
<div class="line">PASS: test_thermally_driven_2d_flow.sh</div>
<div class="line">PASS: test_axi_thermally_driven_flow.sh</div>
<div class="line">PASS: test_thermally_driven_3d_flow.sh</div>
<div class="line">-------------------------------------------------------</div>
<div class="line"> Finalizing all regression tests. Don<span class="stringliteral">&#39;t worry be happy.</span></div>
<div class="line"><span class="stringliteral">-------------------------------------------------------</span></div>
<div class="line"><span class="stringliteral">PASS: finalize.sh</span></div>
<div class="line"><span class="stringliteral">===================</span></div>
<div class="line"><span class="stringliteral">All 11 tests passed</span></div>
<div class="line"><span class="stringliteral">===================</span></div>
</div><!-- fragment --><h2>Installation </h2>
<p>After the build is complete, issue a <code>make install</code> to install <a class="el" href="a00253.html" title="The parameters are reduced parameters. ">Antioch</a>. This will install the header files, libraries, executables, and examples. The installation will consist of four top-level directories housing the library, include files, executables, and example files. An example of the top-level directories after installation is shown below:</p>
<div class="fragment"><div class="line">&gt; make install </div>
</div><!-- fragment --><p>Top-level <a class="el" href="a00253.html" title="The parameters are reduced parameters. ">Antioch</a> installation directory:</p>
<div class="fragment"><div class="line">&gt; ls $HOME/bin/antioch/</div>
<div class="line">bin  examples  include  lib</div>
</div><!-- fragment --><h2>Library Linkage</h2>
<p>To link an external application with the library, the <code>include</code> directory must be added to the compilers include search path in order to access the necessary header files. The <code>lib</code> directory should also be added to the linker search path along with a request to link against the <a class="el" href="a00253.html" title="The parameters are reduced parameters. ">Antioch</a> library. Several example link steps are provided below. These examples assume that the <a class="el" href="a00253.html" title="The parameters are reduced parameters. ">Antioch</a> library has been successfully built and installed previously in the users's ~/bin/antioch directory:</p>
<div class="fragment"><div class="line">&gt; $(CXX) -I$HOME/bin/antioch/include app.c -L$HOME/bin/antioch/lib -lantioch </div>
</div><!-- fragment --><p>To embed the dynamic library search path for the <a class="el" href="a00253.html" title="The parameters are reduced parameters. ">Antioch</a> library directly into the application executable, use an additional linker option as follows:</p>
<div class="fragment"><div class="line">&gt; $(CXX) -I$HOME/bin/antioch/include app.c -L$HOME/bin/antioch/lib \</div>
<div class="line">        -Wl,-rpath,$HOME/bin/antioch/lib -lantioch </div>
</div><!-- fragment --> </div></div><!-- contents -->
<hr size="1"/><address style="text-align: right;"><small>
Generated on Mon Oct 7 2013 15:34:17 for antioch-0.0.7
by&nbsp;<a href="http://www.doxygen.org/index.html">
<em>doxygen</em></a>
1.8.4</small></address>
</body>
</html>
